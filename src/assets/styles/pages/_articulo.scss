@use "../abstracts/variables" as v;

/* ================================
   Página de artículo
   ================================ */

/* Declaramos el orden de las capas */
@layer base, components, overrides;

/* -------------------------------
   Capa base: estructura general
   ------------------------------- */
@layer base {
  * {
    box-sizing: border-box;
  }

  /* Hero */
  .articulo-hero {
    position: relative;

    &-img {
      width: 100%;
      height: 60vh;
      object-fit: cover;
    }

    &-overlay {
      position: absolute;
      top: 50%;
      left: 50%;
      color: v.$color-main;
      text-align: center;
      transform: translate(-50%, -50%);
      text-shadow: 2px 2px 6px rgb(0 0 0 / 60%);
    }
  }

  .articulo-titulo {
    color: v.$color-main;
    font-size: clamp(2rem, 5vw, 4rem);
    text-align: center;
    font-family: v.$font-header;
    font-weight: 700;
    margin-bottom: v.$space-1;
  }

  .articulo-autor {
    font-size: clamp(1rem, 2vw, 1.5rem);
    text-align: center;
    font-style: italic;
  }

  /* Contenido principal como contenedor */
  .articulo-contenido {
    padding: v.$space-3;
    border-radius: v.$border-radius-md;
    background-color: v.$color-main;
    container-name: articulo;
    container-type: inline-size;
  }
}

/* -------------------------------
   Capa components: bloques internos
   ------------------------------- */
@layer components {
  /* Texto */
  .articulo-texto {
    color: v.$color-text;
    font-size: v.$font-size-base;
    line-height: 1.6;
    text-align: center;
    font-family: v.$font-body;

    &-grande {
      font-size: v.$font-size-xl;
      font-weight: 600;
    }

    &-peq {
      color: v.$color-granate;
      font-size: v.$font-size-sm;
    }
  }

  /* Blockquote */
  .articulo-cita {
    margin: v.$space-3 0;
    color: v.$color-marron;
    text-align: center;
    border-left: 4px solid v.$color-granate;
    font-style: italic;
    padding-left: 1rem;

    cite {
      display: block;
      color: v.$color-text;
      font-size: v.$font-size-sm;
      margin-top: 0.5rem;
    }
  }

  /* Items */
  .articulo-items {
    border-top: 2px solid v.$color-marron;

    &-titulo {
      color: v.$color-granate;
      font-size: v.$font-size-lg;
      text-align: center;
      font-weight: 700;
      margin-bottom: v.$space-2;
    }

    &-lista {
      padding: 0;
      list-style: none;
    }
  }

  .articulo-item {
    color: v.$color-text;
    font-size: v.$font-size-base;
    font-weight: 500;

    &-numero {
      display: inline-flex;
      justify-content: center;
      align-items: center;
      width: 2rem;
      height: 2rem;
      border-radius: 50%;
      color: v.$color-main;
      background-color: v.$color-granate;
      font-weight: 700;
    }
  }

  /* Receta */
  .articulo-receta {
    border-top: 2px solid v.$color-marron;

    &-titulo {
      color: v.$color-granate;
      font-size: v.$font-size-lg;
      text-align: center;
      font-weight: 700;
      margin-bottom: v.$space-2;
    }

    &-lista {
      padding: 0;
      list-style: none; 
    }
  }

  .articulo-paso {
    text-align: center;

    &-img {
      max-width: 50%;
      height: auto;
      border-radius: v.$border-radius-md;
      box-shadow: v.$shadow-sm;
      margin-bottom: v.$space-2;
    }

    p {
      max-width: 600px;
      margin: 0 auto;
      color: v.$color-text;
      font-size: v.$font-size-base;
      line-height: 1.6;
    }
  }
}

/* -------------------------------
   Capa overrides: pseudoclases y container queries
   ------------------------------- */
@layer overrides {
  /* Pseudoclases */
  .articulo-items-lista:has(.articulo-item-numero) {
    padding: v.$space-2;
    border-radius: v.$border-radius-sm;
    background-color: v.$color-main;
  }

  .articulo-texto:is(.articulo-texto-grande, .articulo-texto-peq) {
    font-style: italic;
  }

  .articulo-galeria img:where(:first-child) {
    border: 3px solid v.$color-granate;
  }

  /* ================================
     Container queries
     ================================ */

  /* Una columna en pantallas pequeñas (<700px) */ 
  @container articulo (max-width: 700px) { 

    .articulo-paso-img { 
      max-width: 100%; 
    } 

    .articulo-titulo { 
      font-size: clamp(1.75rem, 7vw, 2.75rem); 
    } 
      
    .articulo-texto { 
      font-size: clamp(1rem, 5vw, 1.25rem); 
    } 
      
    .articulo-texto-grande { 
      font-size: clamp(1.25rem, 6vw, 2rem); 
    } 
  } 
    
  /* Dos columnas en pantallas grandes (>=768px) */ 
  @container articulo (min-width: 768px) { 
      
    .articulo-texto-grande { 
      font-size: clamp(1.55rem, 7vw, 2rem); 
    }

    .articulo-paso-img { 
      display: block; 
      max-width: 80%; 
      margin: 0 auto; 
    } 
  } 
}





